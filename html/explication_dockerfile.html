<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Explication du Dockerfile</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <main class="container">

    <header>
      <h1>📦 Déploiement Docker du Jeu PuissanceChat</h1>
      
    </header>
    <section id="script">
    <h1>Docker</h1>
    <p><strong>Docker</strong>, ou plus précisément <strong>Docker</strong> (sans article), est une <em>plateforme logicielle</em> qui permet de <strong>créer, déployer et exécuter des applications</strong> dans des <strong>conteneurs</strong>.</p>
    </section>
    
    <section id="script">
      <h2>🔹 C'est quoi un conteneur ?</h2>
      <p>Un <strong>conteneur</strong> est comme une boîte légère et portable qui contient tout ce dont une application a besoin pour fonctionner :</p>
      <ul>
        <li>Le code de l'application</li>
        <li>Ses bibliothèques</li>
        <li>Ses dépendances</li>
        <li>Son environnement d'exécution</li>
      </ul>
      <p>C’est un peu comme une <strong>machine virtuelle</strong>, mais plus <strong>légère, rapide et efficace</strong>. Contrairement aux machines virtuelles, les conteneurs utilisent le <strong>noyau du système d’exploitation hôte</strong>, ce qui les rend moins gourmands en ressources.</p>
    
      <h2>🔹 À quoi sert Docker ?</h2>
      <p>Docker est utilisé pour :</p>
      <ul>
        <li><strong>Standardiser les environnements de développement</strong> (ton appli marche partout pareil).</li>
        <li><strong>Faciliter le déploiement d'applications</strong> (surtout en production ou sur le cloud).</li>
        <li><strong>Gérer plusieurs services avec Docker Compose</strong> (comme une base de données + une API + une interface).</li>
      </ul>
    </section>
    <section id="script">
      <h2>📝 Script Bash : <code>start.sh</code></h2>
      <p>Ce script Bash permet de lancer soit le serveur, soit le client du jeu Puissance 4 :</p>

      <h3>🔄 Fonctionnement</h3>
      <ul>
        <li>Affiche deux options : <code>1</code> pour le Serveur, <code>2</code> pour le Client</li>
        <li>Lit l’entrée de l’utilisateur</li>
        <li>Exécute la commande Java appropriée selon le choix</li>
        <li>Affiche un message d’erreur si l’entrée est invalide</li>
      </ul>

      <h3>💻 Code du script</h3>
      <pre><code class="language-bash">
          #!/bin/bash

          echo "Choisissez un mode :"
          echo "1 - Serveur"
          echo "2 - Client"
          read -p "Entrer 1 ou 2 : " choix

          if [ "$choix" = "1" ]; then
              echo "Lancement du serveur..."
              java ServeurPuissance4IHM
          elif [ "$choix" = "2" ]; then
              echo "Lancement du client..."
              java ClientPuissance4IHM
          else
              echo "Choix invalide."
              exit 1
          fi
      </code></pre>
    </section>

    <section id="dockerfile">
      <h2>🐳 Dockerfile</h2>
      <p>Le fichier <code>Dockerfile</code> permet de créer une image Docker pour exécuter le jeu Puissance 4 avec Java.</p>

      <h3>🔧 Étapes expliquées</h3>
      <ul>
        <li><strong>Image de base :</strong> <code>openjdk:17</code> pour exécuter Java</li>
        <li><strong>Répertoire de travail :</strong> Défini à <code>/app</code></li>
        <li><strong>Copie des fichiers :</strong> Tous les fichiers Java et le script <code>start.sh</code></li>
        <li><strong>Permissions d’exécution :</strong> Pour rendre le script utilisable</li>
        <li><strong>Compilation :</strong> Compilation des classes Java avec <code>javac</code></li>
        <li><strong>Commande par défaut :</strong> Exécute <code>start.sh</code> à l'ouverture du conteneur</li>
      </ul>

      <h3>📄 Contenu du Dockerfile</h3>
      <pre><code class="language-dockerfile">
FROM openjdk:17

WORKDIR /app

COPY *.java .
COPY start.sh .
RUN chmod +x start.sh

RUN javac ServeurPuissance4IHM.java ClientPuissance4IHM.java

CMD ["./start.sh"]
      </code></pre>
    </section>

  </main>
  <footer>
    <p>&copy; 2025 - Guide d'installation du projet PuissanceChat</p>
  </footer>
</body>

</html>
